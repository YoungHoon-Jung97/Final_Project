<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.nutmag.project.dao.IMercenaryDAO">

	<!-- 입력 기능 -->
 	<insert id="insertMercenary" parameterType="com.nutmag.project.dto.MercenaryDTO" statementType="CALLABLE">
     CALL PRC_INSERT_MERCENARY_WITH_TIME(
		    #{user_code_id},
		    #{position_id},
		    #{region_id},
		    #{city_id},
		    #{mercenary_time_start_at},
		    #{mercenary_time_end_at}
		)
    
	</insert>  
	
	
	<!-- 전체 조회 -->
	<select id="mercenaryList" resultType="com.nutmag.project.dto.MercenaryDTO">
	    SELECT *
	    FROM MERCENARY_VIEW
	    WHERE mercenary_time_start_at &lt; TO_DATE(#{time}, 'YYYY-MM-DD HH24:MI:SS')
	      AND mercenary_time_end_at &gt; TO_DATE(#{time}, 'YYYY-MM-DD HH24:MI:SS')
	</select>





</mapper>
